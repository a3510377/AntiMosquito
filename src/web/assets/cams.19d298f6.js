import{_ as i,d as c,H as l,c as t,t as u,F as m,i as _,o as a,b as p}from"./index.fd2d36bb.js";const v=c({data(){return{timeOut:void 0,ready:!1,data:{},vReady:""}},components:{HeaderMain:l},beforeUnmount(){this.closeTimeOut()},mounted(){let e=".".repeat(4);this.timeOut=setInterval(()=>{this.vReady=this.vReady.length>=e.length?e[0]:e.substring(0,this.vReady.length+1)},500);let s=new EventSource("//127.0.01:3500/api/v1/postImg/imgs");s.addEventListener("addImg",({data:d})=>{let n=JSON.parse(d);this.data[n.id]=n}),s.addEventListener("open",()=>this.ready=!0,!1)},methods:{closeTimeOut(){this.timeOut&&clearInterval(this.timeOut)}}}),h={class:"cams"},y=["textContent"],g=["src"];function f(e,s,d,n,O,k){return a(),t("div",h,[e.ready?(a(!0),t(m,{key:1},_(e.data,(r,o)=>(a(),t("div",{class:"cam",key:o},[p("img",{src:r.img,alt:""},null,8,g)]))),128)):(a(),t("p",{key:0,class:"not-ready",textContent:u(`\u8ACB\u7A0D\u5F8C${e.vReady}`)},null,8,y))])}var I=i(v,[["render",f],["__scopeId","data-v-069df309"]]);export{I as default};
