import{d as f,r as u,c as v,a,b as h,w as C,p as A,e as N,o as w,f as I,g as T,h as L,F as P,V,i as j,G as F,P as q,M as z,l as x,s as b,T as M,S as p,j as _,k as g,m as k,C as U,n as B,A as H,q as W,t as G,u as R,v as Y,x as D}from"./vendor.49f100f0.js";const J=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(o){if(o.ep)return;o.ep=!0;const t=i(o);fetch(o.href,t)}};J();var m=(e,r)=>{const i=e.__vccOpts||e;for(const[s,o]of r)i[s]=o;return i};const K=f({data(){return{}}}),d=e=>(A("data-v-4eec8a20"),e=e(),N(),e),Q={class:"menu flex flex-item-center"},X={class:"list flex flex-center"},Z=I("\u6587\u6A94"),ee=d(()=>a("div",null,"2",-1)),te=d(()=>a("div",null,"3",-1)),oe=d(()=>a("div",null,"4",-1)),ne=d(()=>a("div",null,"5",-1)),re=d(()=>a("div",null,"6",-1)),se=d(()=>a("div",null,"7",-1)),ie=d(()=>a("div",null,"8",-1)),ae=d(()=>a("div",null,"9",-1)),ce=d(()=>a("div",null,"10",-1)),le=d(()=>a("div",{class:"openMenu flex flex-item-center"},[a("div",{class:"style"})],-1));function de(e,r,i,s,o,t){const n=u("router-link");return w(),v("div",Q,[a("div",X,[a("div",null,[h(n,{to:"/"},{default:C(()=>[Z]),_:1})]),ee,te,oe,ne,re,se,ie,ae,ce]),le])}var ue=m(K,[["render",de],["__scopeId","data-v-4eec8a20"]]);const pe=f({components:{Menu:ue}}),_e=e=>(A("data-v-1aed7f03"),e=e(),N(),e),fe={id:"header",class:"flex flex-item-center"},he=_e(()=>a("a",{href:"/",class:"title"},"\u868A\u5B50",-1));function we(e,r,i,s,o,t){const n=u("Menu");return w(),v("header",fe,[he,h(n)])}var ge=m(pe,[["render",we],["__scopeId","data-v-1aed7f03"]]);const me=f({components:{HeaderMain:ge}});function ve(e,r,i,s,o,t){const n=u("HeaderMain");return w(),T(n)}var xe=m(me,[["render",ve]]);const be="https://antimosquito.a102009102009.repl.co";const $e=f({data(){return{data:{}}},async mounted(){let e=this.data=(await L({url:`${be}/api/v1/data`,method:"GET"})).data,r=new P,i=!1,s=new V({center:j([120.221507,23.000694]),zoom:12}),o=new F({projection:s.getProjection()});o.setTracking(!0),o.on("error",t=>console.log(t.message)),o.on("change:position",function(){let t=o.getPosition();r.setGeometry(t?new q(t):void 0),i||(s.setCenter(t),i=!0)}),new z({target:this.$refs.map,layers:[new x({source:new b({url:"https://kiang.github.io/taiwan_basecode/cunli/topo/20210324.json",format:new M}),style:(t,n)=>{var l,$;if(n>40)return new p({fill:new _({color:"#ffffff"})});let c=0;return((($=(l=e==null?void 0:e[t.get("COUNTYNAME")])==null?void 0:l[t.get("TOWNNAME")])==null?void 0:$[t.get("VILLNAME")])||[]).forEach(y=>c+=y.mosquitos),new p({stroke:new g({color:"#000",width:1}),fill:new _({color:this.setFillColor(~~(c/10))}),text:new k({font:"14px 'Open Sans', 'Arial Unicode MS', 'sans-serif'",fill:new _({color:"#000"}),text:`${t.get("VILLNAME")}
${c||""}`})})},zIndex:50}),new x({source:new b({url:"https://kiang.github.io/taiwan_basecode/city/city.topo.json",format:new M}),style:(t,n)=>{var c;if(n>40&&n<180){let l=0;return Object.entries(((c=e==null?void 0:e[t.get("COUNTYNAME")])==null?void 0:c[t.get("TOWNNAME")])||{}).forEach(([$,y])=>y.forEach(O=>l+=O.mosquitos)),new p({stroke:new g({color:"#ff0000",width:1}),fill:new _({color:this.setFillColor(~~(l/50))}),text:new k({font:"14px 'Open Sans', 'Arial Unicode MS', 'sans-serif'",text:`${t.get("TOWNNAME")}
${l||""}`})})}if(n<=180)return new p({stroke:new g({color:"#ff0000",width:1})})},zIndex:100}),new x({source:new b({url:"https://kiang.github.io/taiwan_basecode/county/topo/20200820.json",format:new M}),style:(t,n)=>new p({stroke:new g({color:"#0000ff",width:1}),fill:new _({color:"#ffffff00"}),text:new k({font:"20px 'Open Sans', 'Arial Unicode MS', 'sans-serif'",text:n>180?t.get("COUNTYNAME"):void 0})}),zIndex:150}),new x({source:new b({features:[r]}),style:new p({image:new U({radius:6,fill:new _({color:"#3399CC"}),stroke:new g({color:"#fff",width:2})})}),zIndex:200})],view:s,controls:B({attribution:!1}).extend([new H({collapsible:!1,collapsed:!0})])})},methods:{setFillColor(e){let r="#fff";return e>50?r="#470115":e>20?r="#6f006d":e>10?r="#a4005b":e>5?r="#d00b33":e>3?r="#e75033":e>1?r="#ffa133":e>0&&(r="#e3d738"),r}}}),ye={class:"map",ref:"map"};function Me(e,r,i,s,o,t){return w(),v("div",ye,null,512)}var ke=m($e,[["render",Me],["__scopeId","data-v-3dc69de6"]]);const Ae=f({components:{templateMain:xe,Map:ke},setup(){setTimeout(()=>{console.log(`%c Monkey %c
 awa`,"padding: 10px 42px; font-size: 32px; font-weight: 600; color: #596164; text-shadow: 2px 2px 6px #ffb199; border-radius: 10px; background-color: rgb(233, 233, 233); background-image: radial-gradient( circle at 100% 150%, rgb(233, 233, 233) 24%, white 24%, white 28%, rgb(233, 233, 233) 28%, rgb(233, 233, 233) 36%, white 36%, white 40%, transparent 40%, transparent ), radial-gradient( circle at 0 150%, rgb(233, 233, 233) 24%, white 24%, white 28%, rgb(233, 233, 233) 28%, rgb(233, 233, 233) 36%, white 36%, white 40%, transparent 40%, transparent ), radial-gradient( circle at 50% 100%, white 10%, rgb(233, 233, 233) 10%, rgb(233, 233, 233) 23%, white 23%, white 30%, rgb(233, 233, 233) 30%, rgb(233, 233, 233) 43%, white 43%, white 50%, rgb(233, 233, 233) 50%, rgb(233, 233, 233) 63%, white 63%, white 71%, transparent 71%, transparent ), radial-gradient( circle at 100% 50%, white 5%, rgb(233, 233, 233) 5%, rgb(233, 233, 233) 15%, white 15%, white 20%, rgb(233, 233, 233) 20%, rgb(233, 233, 233) 29%, white 29%, white 34%, rgb(233, 233, 233) 34%, rgb(233, 233, 233) 44%, white 44%, white 49%, transparent 49%, transparent ), radial-gradient( circle at 0 50%, white 5%, rgb(233, 233, 233) 5%, rgb(233, 233, 233) 15%, white 15%, white 20%, rgb(233, 233, 233) 20%, rgb(233, 233, 233) 29%, white 29%, white 34%, rgb(233, 233, 233) 34%, rgb(233, 233, 233) 44%, white 44%, white 49%, transparent 49%, transparent ); background-size: 100px 50px;","padding-top: 40px;")},1e3)}});function Ne(e,r,i,s,o,t){const n=u("templateMain"),c=u("router-views"),l=u("Map");return w(),v(W,null,[h(n),h(c),h(l)],64)}var S=m(Ae,[["render",Ne]]),Se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:S});function Ee(){return{}}var Oe={},Ce={};const Ie=Symbol(),Te=G({state:Ee,getters:Oe,mutations:Ce}),Le="modulepreload",E={},Pe="/",Ve=function(r,i){return!i||i.length===0?r():Promise.all(i.map(s=>{if(s=`${Pe}${s}`,s in E)return;E[s]=!0;const o=s.endsWith(".css"),t=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${t}`))return;const n=document.createElement("link");if(n.rel=o?"stylesheet":Le,o||(n.as="script",n.crossOrigin=""),n.href=s,document.head.appendChild(n),o)return new Promise((c,l)=>{n.addEventListener("load",c),n.addEventListener("error",l)})})).then(()=>r())},je=[{name:"Home",path:"/",component:()=>Ve(()=>Promise.resolve().then(function(){return Se}),void 0)}],Fe=R({history:Y(),routes:je});var qe={install(e){e.use(Te,Ie),e.use(Fe)}};D(S).use(qe).mount("#app");
