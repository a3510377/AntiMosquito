var p=Object.defineProperty,_=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var u=(e,t,s)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,h=(e,t)=>{for(var s in t||(t={}))f.call(t,s)&&u(e,s,t[s]);if(c)for(var s of c(t))g.call(t,s)&&u(e,s,t[s]);return e},m=(e,t)=>_(e,y(t));import{_ as C,d as k,H as x,c as d,i as I,t as r,e as o,F as O,j as $,b as i}from"./index.1c29a611.js";import{a as E}from"./config.2f2ca7ea.js";const w=k({data(){return{timeOut:void 0,ready:!1,data:{},vReady:""}},components:{HeaderMain:x},beforeUnmount(){this.closeTimeOut()},mounted(){let e=".".repeat(4);this.timeOut=setInterval(()=>{this.vReady=this.vReady.length>=e.length?e[0]:e.substring(0,this.vReady.length+1)},500);let t=new EventSource(`${E}/api/v1/postImg/imgs`);t.addEventListener("addImg",({data:s})=>{let n=JSON.parse(s);this.data[n.id]=m(h({},n),{show:this.data[n.id]===void 0?!1:this.data[n.id].show})}),t.addEventListener("open",()=>this.ready=!0,!1),t.addEventListener("close",()=>this.ready=!1,!1),t.addEventListener("deleteImg",({data:s})=>delete this.data[s])},methods:{closeTimeOut(){this.timeOut&&clearInterval(this.timeOut)}}}),D={class:"cams"},b={key:0,class:"errorText not-ready"},L=["textContent"],R={key:1},T=["src","onClick"],A=["textContent"],B=["textContent"];function F(e,t,s,n,N,S){return i(),d("div",D,[Object.keys(e.data).length<=0||!e.ready?(i(),d("div",b,[I(r(e.ready?"\u5C1A\u7121\u6578\u64DA":"\u9023\u7DDA\u4E2D")+" ",1),o("p",{textContent:r(e.vReady)},null,8,L)])):(i(),d("div",R,[(i(!0),d(O,null,$(e.data,(a,v)=>{var l;return i(),d("div",{key:v},[o("img",{src:a.show?a.fImg:a.img,class:"cam",onClick:j=>a.show=!a.show},null,8,T),o("div",null,[o("p",{textContent:r(`\u6578\u91CF: ${((l=a==null?void 0:a.data)==null?void 0:l.contours)||0}`)},null,8,A),o("p",{textContent:r(`ID: ${a.id||""}`)},null,8,B)])])}),128))]))])}var J=C(w,[["render",F],["__scopeId","data-v-0169bfcf"]]);export{J as default};
