var j=Object.defineProperty;var T=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var b=(a,t,e)=>t in a?j(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,m=(a,t)=>{for(var e in t||(t={}))K.call(t,e)&&b(a,e,t[e]);if(T)for(var e of T(t))L.call(t,e)&&b(a,e,t[e]);return a};import{_ as D,d as N,a as f,o as U,w as I,b as r,c,r as k,e as u,f as Z,k as q,F as x,j as y,u as z,t as g,i as F,g as B}from"./index.89e27ba4.js";import{a as E}from"./index.9ff040e8.js";import{a as V}from"./config.2f2ca7ea.js";const A=N({props:{value:{default:""}},emits:["input"],setup(a,{emit:t}){const e=a,n=f(),l=f("");U(()=>{!n.value||(n.value.innerText=e.value)});const v=()=>{n.value&&(l.value=n.value.innerText)};return I(l,_=>t("input",_)),(_,w)=>(r(),c("p",{contenteditable:"",ref_key:"editableEl",ref:n,onInput:v},null,544))}});var $=D(A,[["__scopeId","data-v-d0ea4e48"]]);const G={class:"configs"},H={class:"search"},J=["data-id"],O=["textContent"],P={class:"content"},Q={class:"area"},R=N({setup(a){const t=E.CancelToken.source(),e=f(),n=f(),l=k({list:[]}),v=k({list:[]}),_=({target:o})=>e.value=(o==null?void 0:o.value)||e.value,w=["name","description"],M={name:void 0,description:void 0,location:{latitude:void 0,longitude:void 0},area:{county:void 0,town:void 0,village:void 0}},C={name:"\u540D\u5B57",description:"\u63CF\u8FF0",county:"\u7E23",town:"\u5340",village:"\u91CC"};return I(e,async()=>{if(l.list=v.list=[],!e.value)return;const{data:o}=await E({url:`${V}/api/v1/users/find`,cancelToken:t.token,params:{keyword:e.value}}).catch(()=>({data:[]}));l.list=v.list=o.map(i=>m(m({},M),i))}),U(()=>{n.value}),I(l,o=>o.list.forEach(i=>E({url:`${V}/api/v1/users/${i.id}/edit`,method:"patch",data:i}))),(o,i)=>(r(),c("div",G,[u("div",H,[Z(u("input",{type:"search","onUpdate:modelValue":i[0]||(i[0]=s=>e.value=s),onInput:_,list:"client-id-name"},null,544),[[q,e.value]])]),u("div",{class:"users",ref_key:"usersEl",ref:n},[(r(!0),c(x,null,y(z(l).list,(s,S)=>(r(),c("div",{key:S,"data-id":s.id,class:"user"},[u("h1",{textContent:g(s.id),class:"id"},null,8,O),u("div",P,[(r(),c(x,null,y(w,(p,d)=>u("div",{class:"config",key:d},[F(g(C[p])+": ",1),B($,{value:s[p],onInput:h=>s[p]=h},null,8,["value","onInput"])])),64)),u("div",Q,[(r(!0),c(x,null,y(s.area,(p,d)=>(r(),c("div",{class:"config",key:d},[F(g(C[d])+": ",1),B($,{value:s.area[d],onInput:h=>s.area[d]=h},null,8,["value","onInput"])]))),128))])])],8,J))),128))],512)]))}});var te=D(R,[["__scopeId","data-v-d586e556"]]);export{te as default};
