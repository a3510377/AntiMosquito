var p=Object.defineProperty,_=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var u=(t,e,s)=>e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,h=(t,e)=>{for(var s in e||(e={}))g.call(e,s)&&u(t,s,e[s]);if(c)for(var s of c(e))f.call(e,s)&&u(t,s,e[s]);return t},m=(t,e)=>_(t,y(e));import{_ as C,d as x,H as I,c as d,t as r,F as $,i as k,o,b as i}from"./index.ae59d87d.js";const O=x({data(){return{timeOut:void 0,ready:!1,data:{},vReady:""}},components:{HeaderMain:I},beforeUnmount(){this.closeTimeOut()},mounted(){let t=".".repeat(4);this.timeOut=setInterval(()=>{this.vReady=this.vReady.length>=t.length?t[0]:t.substring(0,this.vReady.length+1)},500);let e=new EventSource("//127.0.01:3500/api/v1/postImg/imgs");e.addEventListener("addImg",({data:s})=>{let n=JSON.parse(s);this.data[n.id]=m(h({},n),{show:this.data[n.id]===void 0?!1:this.data[n.id].show})}),e.addEventListener("open",()=>this.ready=!0,!1),e.addEventListener("deleteImg",({data:s})=>delete this.data[s])},methods:{closeTimeOut(){this.timeOut&&clearInterval(this.timeOut)}}}),w={class:"cams"},E=["textContent"],R={key:1},b=["src","onClick"],B=["textContent"],F=["textContent"];function L(t,e,s,n,D,S){return o(),d("div",w,[t.ready?(o(),d("div",R,[(o(!0),d($,null,k(t.data,(a,v)=>{var l;return o(),d("div",{key:v},[i("img",{src:a.show?a.fImg:a.img,class:"cam",onClick:A=>a.show=!a.show},null,8,b),i("div",null,[i("p",{textContent:r(`\u6578\u91CF: ${((l=a==null?void 0:a.data)==null?void 0:l.contours)||0}`)},null,8,B),i("p",{textContent:r(`ID: ${a.id||""}`)},null,8,F)])])}),128))])):(o(),d("p",{key:0,class:"not-ready",textContent:r(`\u8ACB\u7A0D\u5F8C${t.vReady}`)},null,8,E))])}var T=C(O,[["render",L],["__scopeId","data-v-b0f765da"]]);export{T as default};
