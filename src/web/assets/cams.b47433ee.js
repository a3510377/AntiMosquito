var p=Object.defineProperty,_=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var u=(t,e,s)=>e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,h=(t,e)=>{for(var s in e||(e={}))f.call(e,s)&&u(t,s,e[s]);if(c)for(var s of c(e))g.call(e,s)&&u(t,s,e[s]);return t},m=(t,e)=>_(t,y(e));import{_ as C,d as x,H as $,c as o,t as r,F as k,i as I,o as d,b as i}from"./index.a4095c15.js";const O=x({data(){return{timeOut:void 0,ready:!1,data:{},vReady:""}},components:{HeaderMain:$},beforeUnmount(){this.closeTimeOut()},mounted(){let t=".".repeat(4);this.timeOut=setInterval(()=>{this.vReady=this.vReady.length>=t.length?t[0]:t.substring(0,this.vReady.length+1)},500);let e=new EventSource("//127.0.01:3500/api/v1/postImg/imgs");e.addEventListener("addImg",({data:s})=>{let n=JSON.parse(s);this.data[n.id]=m(h({},n),{show:this.data[n.id]===void 0?!1:this.data[n.id].show})}),e.addEventListener("open",()=>this.ready=!0,!1)},methods:{closeTimeOut(){this.timeOut&&clearInterval(this.timeOut)}}}),w={class:"cams"},R=["textContent"],b={key:1},B=["src","onClick"],E=["textContent"],F=["textContent"];function D(t,e,s,n,L,S){return d(),o("div",w,[t.ready?(d(),o("div",b,[(d(!0),o(k,null,I(t.data,(a,v)=>{var l;return d(),o("div",{key:v},[i("img",{src:a.show?a.fImg:a.img,class:"cam",onClick:A=>a.show=!a.show},null,8,B),i("div",null,[i("p",{textContent:r(`\u6578\u91CF: ${((l=a==null?void 0:a.data)==null?void 0:l.contours)||0}`)},null,8,E),i("p",{textContent:r(`ID: ${a.id||""}`)},null,8,F)])])}),128))])):(d(),o("p",{key:0,class:"not-ready",textContent:r(`\u8ACB\u7A0D\u5F8C${t.vReady}`)},null,8,R))])}var T=C(O,[["render",D],["__scopeId","data-v-0fe1b804"]]);export{T as default};
